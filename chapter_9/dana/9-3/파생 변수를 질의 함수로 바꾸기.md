# 파생 변수를 질의 함수로 바꾸기
## 배경
- 여러 곳에서 데이터가 변경되는 가변 데이터는 유효범위를 가능한 좁혀야한다.
  - 값을 쉽게 계산해낼 수 있는 변수들을 모두 제거한다.
    - 계산 과정을 보여주는 코드 자체가 데이터의 의미를 더 분명히 드러내는 경우가 있다.
    - 변경된 값을 깜빡하고 결과 변수에 반영하지 않는 실수를 막아준다.
    - 예외: 피 연산자 데이터가 불변이라면 계산 결과도 일정하므로 역시 불변으로 만들 수 있다.
  - 새로운 데이터 구조를 생성하는 변형 연산이라면 비록 계산 코드로 대체할 수 있더라도 그대로 두는 것도 좋다.
    - 변형 연산
      - 첫째, 데이터 구조를 감싸며 그 데이터에 기초하여 계산한 결과를 속성으로 제공하는 객체
      - 둘째, 데이터 구조를 받아 다른 데이터 구조로 변환해 반환하는 함수
    - 소스 데이터가 가변이고 파생 데이터 구조의 수명을 관리해야 하는 상황에서는 객체를 사용하는 편이 확실히 유리하다.

## 절차 
1. 변수 값이 갱신되는 지점을 모두 찾는다. 필요하면 변수 쪼개기를 활용해 각 갱신 지점에서 변수를 분리한다.
2. 해당 변수의 값을 계산해주는 함수를 만든다.
3. 해당 변수가 사용되는 모든 곳에 어서션을 추가하여 함수의 계산 결과가 변수의 값과 같은지 확인한다. 
4. 테스트한다.
5. 변수를 읽는 코드를 모두 함수 호출로 대체한다.
6. 테스트한다.
7. 변수를 선언하고 갱신하는 코드를 죽은 코드 제거하기로 없앤다.

## 예시
[파생 변수를 질의 함수로 바꾸기](/example.js)<br>
# 문장을 호출한 곳으로 옮기기
## 배경
- 함수는 프로그래머가 쌓아 올리는 추상화의 기본 블록이다.
  - 추상화의 경계를 긋기는 어렵다.
  - 코드 베이스의 기능 범위가 달라지면 추상화의 경계도 움직이게 된다.
  - 초기에는 응집도 높고 한 가지 일만 수행하던 함수가 여러가지 일을 수행하게 바뀌기도 한다. (추상화의 경계가 넓어진다.)
- 여러 곳에서 사용하던 기능이 일부 호출자에게는 다르게 동작하도록 바뀌어야 한다면?
  - 달라진 동작을 함수에서 꺼내 해당 호출자로 옮겨야 한다.
    - 먼저 문장 슬라이드 하기를 적용해 달라지는 동작을 함수의 시작 혹은 끝으로 옮긴다.
    - 바로 이어서 문장을 호출한 곳으로 옮기기 리팩토링을 적용한다.
    - 달라지는 동작을 호출자로 옮긴 뒤에는 필요할 때마다 독립적으로 수정할 수 있다.
- 작은 변경이라면 문장을 호출한 곳으로 옮기는 것으로 충분하다.
  - 호출자와 호출 대상의 경계를 다시 그어야할 경우 
    - 함수 인라인하기부터 적용한 다음, 문장 슬라이드하기와 함수 추출하기로 더 적합한 경계를 설정한다.

## 절차
1. 호출자가 한두 개뿐이고, 피호출 함수도 간단한 단순한 상황
    - 피호출 함수의 처음(혹은 마지막) 줄(들)을 잘라내어 호출자(들)로 복사해 넣는다.
2. 더 복잡한 상황인 경우
    - 이동하지 '않길' 원하는 모든 문장을 함수로 추출한다음 검색하기 쉬운 임시 이름을 지어준다.
      - 대상 함수가 서브클래스에서 오버라이드됐다면, 오버라이드한 서브클래스들의 메서드 모두에서 동일하게 남길 부분을 메서드로 추출한다. 
      - 남겨질 메소드의 본문은 모든 클래스에서 똑같아야 한다.
      - 슈퍼클래스의 메소드만 남기고 서브클래스들의 메소드를 제거한다.
3. 원래 함수를 인라인한다.
4. 추출된 함수의 이름을 원래 함수의 이름으로 변경한다.(함수 이름 바꾸기)
    - 더 나은 이름이 더오르면 그 이름을 사용하자!

## 예시
[문장을 호출한 곳으로 옮기기 예시](../8-4/example.js)<br>